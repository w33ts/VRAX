<Window x:Class="VRAX.IntelWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowState="Maximized"
        Width="1400" Height="900"
        WindowStartupLocation="CenterScreen"
        Background="#020202"
        FontFamily="Consolas"
        BorderBrush="#4400FF41"
        BorderThickness="1"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanResize">

    <Window.Resources>
        <DropShadowEffect x:Key="NeonGlow" Color="#00FF41" BlurRadius="20" ShadowDepth="0" Opacity="0.9"/>
        <DropShadowEffect x:Key="RedGlow" Color="#FF3131" BlurRadius="15" ShadowDepth="0" Opacity="0.8"/>

        <Style x:Key="CyberButton" TargetType="Button">
            <Setter Property="Background" Value="#0A0000"/>
            <Setter Property="Foreground" Value="#FF3131"/>
            <Setter Property="BorderBrush" Value="#FF3131"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="1">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"
                                            Margin="{TemplateBinding Padding}"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Effect" Value="{StaticResource RedGlow}"/>
                    <Setter Property="Background" Value="#200000"/>
                    <Setter Property="BorderBrush" Value="#FF5555"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="80"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="150"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" BorderBrush="#3300FF41" BorderThickness="0,0,0,1" Background="#080808">
            <Grid Margin="30,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel VerticalAlignment="Center">
                    <TextBlock Text="◢ VISUAL VIEW ◣" 
                               Foreground="#00FF41" 
                               FontSize="22" 
                               FontWeight="Bold" 
                               Effect="{StaticResource NeonGlow}"/>
                    <TextBlock Text="MODE: ACTIVE" 
                               Foreground="#00FF41" 
                               FontSize="9" 
                               Margin="0,4,0,0"
                               Opacity="0.6"/>
                </StackPanel>

                <StackPanel Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" Orientation="Horizontal">
                    <Border Background="#001100" BorderBrush="#00FF41" BorderThickness="1" Padding="10,5" Margin="10">
                        <StackPanel>
                            <TextBlock Text="DATABASE" Foreground="#00FF41" FontSize="8" Opacity="0.7"/>
                            <TextBlock x:Name="DbStatus" Text="CONNECTED" Foreground="#00FF41" FontSize="10" FontWeight="Bold"/>
                        </StackPanel>
                    </Border>
                    <Border Background="#110000" BorderBrush="#FF3131" BorderThickness="1" Padding="10,5" Margin="10">
                        <StackPanel>
                            <TextBlock Text="NODES" Foreground="#FF3131" FontSize="8" Opacity="0.7"/>
                            <TextBlock x:Name="NodeCount" Text="0" Foreground="#FF3131" FontSize="10" FontWeight="Bold"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="TARGET:" 
                               Foreground="#00FF41" 
                               VerticalAlignment="Center" 
                               FontSize="11" 
                               Margin="0,0,10,0" 
                               FontWeight="Bold"/>
                    <ComboBox x:Name="TargetSelector" 
          Width="300" 
          Height="32" 
          Background="#000000" 
          Foreground="#00FF41" 
          BorderBrush="#00FF41" 
          BorderThickness="1"
          FontSize="11"
          Padding="8,4">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" Foreground="Black" FontFamily="Consolas" FontSize="11"/>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </StackPanel>
            </Grid>
        </Border>

        <Border Grid.Row="1" BorderBrush="#1A1A1A" BorderThickness="0,0,0,1" Background="#000000">
            <Grid>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="10">
                    <Button x:Name="ResetViewBtn" Content="↺" 
                            Style="{StaticResource CyberButton}"
                            Width="30" Height="30"
                            FontSize="14"/>
                    <Button x:Name="ZoomInBtn" Content="+" 
                            Style="{StaticResource CyberButton}"
                            Width="30" Height="30"
                            FontSize="14"
                            Margin="5,0,0,0"/>
                    <Button x:Name="ZoomOutBtn" Content="−" 
                            Style="{StaticResource CyberButton}"
                            Width="30" Height="30"
                            FontSize="14"
                            Margin="5,0,0,0"/>
                    <Button x:Name="ClearMapBtn" Content="🗑️" 
                            Style="{StaticResource CyberButton}"
                            Width="30" Height="30"
                            FontSize="14"
                            Margin="5,0,0,0"/>
                </StackPanel>

                <Border x:Name="CanvasContainer" Background="Transparent" Margin="0">
                    <ScrollViewer x:Name="MainScrollViewer" 
                                  HorizontalScrollBarVisibility="Auto" 
                                  VerticalScrollBarVisibility="Auto"
                                  Background="Transparent"
                                  UseLayoutRounding="True"
                                  PanningMode="Both">
                        <Canvas x:Name="MapCanvas" 
                                Width="4000" 
                                Height="4000"
                                Background="Transparent"
                                UseLayoutRounding="True">

                            <Canvas x:Name="GridCanvas" Width="4000" Height="4000"/>

                            <Canvas x:Name="LinksCanvas" Width="4000" Height="4000"/>

                            <Canvas x:Name="NodesCanvas" Width="4000" Height="4000"/>

                            <Canvas x:Name="RingsCanvas" Width="4000" Height="4000">
                                <Ellipse x:Name="OuterRing" Width="2000" Height="2000" Stroke="#0A00FF41" StrokeThickness="1" 
                                         Canvas.Left="1000" Canvas.Top="1000"/>
                                <Ellipse x:Name="MidRing" Width="1400" Height="1400" Stroke="#1500AAFF" StrokeThickness="1" StrokeDashArray="4,8"
                                         Canvas.Left="1300" Canvas.Top="1300"/>
                                <Ellipse x:Name="InnerRing" Width="800" Height="800" Stroke="#15FFD700" StrokeThickness="1" StrokeDashArray="6,4"
                                         Canvas.Left="1600" Canvas.Top="1600"/>
                            </Canvas>

                            <Border x:Name="CenterNode" 
                                    Width="200" Height="200"
                                    Background="#001100"
                                    BorderBrush="#00FF41"
                                    BorderThickness="2"
                                    CornerRadius="2"
                                    Padding="12"
                                    Canvas.Left="1900" Canvas.Top="1900">
                                <StackPanel>
                                    <TextBlock x:Name="CenterText" 
                                               Text="TARGET" 
                                               Foreground="#00FF41" 
                                               FontSize="18" 
                                               FontWeight="Bold"
                                               HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="CenterSubtext" 
                                               Text="Select a target" 
                                               Foreground="#00AAFF" 
                                               FontSize="11"
                                               HorizontalAlignment="Center"
                                               Margin="0,5,0,0"/>
                                </StackPanel>
                            </Border>

                        </Canvas>
                    </ScrollViewer>
                </Border>

                <Border Background="#080808" 
                        BorderBrush="#00FF41" 
                        BorderThickness="1" 
                        Padding="10"
                        Width="200"
                        Height="160"
                        VerticalAlignment="Bottom"
                        HorizontalAlignment="Left"
                        Margin="10"
                        Opacity="0.9">
                    <StackPanel>
                        <TextBlock Text="LEGEND" Foreground="#00FF41" FontSize="11" FontWeight="Bold" Margin="0,0,0,8"/>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                            <Ellipse Width="8" Height="8" Fill="#00FF41" Margin="0,0,6,0"/>
                            <TextBlock Text="Target Node" Foreground="#00FF41" FontSize="9"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                            <Ellipse Width="8" Height="8" Fill="#00AAFF" Margin="0,0,6,0"/>
                            <TextBlock Text="Ports" Foreground="#00AAFF" FontSize="9"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                            <Ellipse Width="8" Height="8" Fill="#FFD700" Margin="0,0,6,0"/>
                            <TextBlock Text="Technologies" Foreground="#FFD700" FontSize="9"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                            <Ellipse Width="8" Height="8" Fill="#FF3131" Margin="0,0,6,0"/>
                            <TextBlock Text="Security Issues" Foreground="#FF3131" FontSize="9"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Width="8" Height="8" Fill="#9370DB" Margin="0,0,6,0"/>
                            <TextBlock Text="Network Info" Foreground="#9370DB" FontSize="9"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>

        <Border Grid.Row="2" Background="#040404" BorderBrush="#1A1A1A" BorderThickness="0,1,0,0">
            <Grid Margin="20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel VerticalAlignment="Center">
                    <TextBlock Text="STATUS STREAM" Foreground="#00FF41" FontSize="10" FontWeight="Bold" Opacity="0.8"/>
                    <TextBlock x:Name="StatusText" 
                               Text="IDLE" 
                               FontSize="24" 
                               Foreground="#00FF41" 
                               FontWeight="Bold" 
                               Margin="0,5,0,0"/>
                    <TextBlock x:Name="TimeElapsed" 
                               Text="00:00:00" 
                               Foreground="#FF3131" 
                               FontSize="10" 
                               Margin="0,5,0,0"/>
                </StackPanel>

                <Border Grid.Column="1" 
                        Background="#000000" 
                        BorderBrush="#00FF41" 
                        BorderThickness="1" 
                        Padding="15,10"
                        Margin="20,0">
                    <ScrollViewer x:Name="LogScroller" 
                                  VerticalScrollBarVisibility="Auto" 
                                  HorizontalScrollBarVisibility="Disabled">
                        <TextBlock x:Name="NeuralLog" 
                                   Foreground="#00AAFF" 
                                   FontSize="10" 
                                   TextWrapping="Wrap" 
                                   FontFamily="Consolas"
                                   LineHeight="14"/>
                    </ScrollViewer>
                </Border>

                <StackPanel Grid.Column="2" VerticalAlignment="Center">
                    <Button x:Name="GenerateReportBtn" Content="◢ GENERATE REPORT ◣" 
                            Style="{StaticResource CyberButton}"
                            Height="40"
                            Width="180"
                            FontWeight="Bold" 
                            FontSize="11"
                            Margin="0,0,0,10"/>
                    <Button x:Name="ExportVisualizationBtn" Content="◢ EXPORT VISUALIZATION ◣" 
                            Style="{StaticResource CyberButton}"
                            Height="40"
                            Width="180"
                            FontWeight="Bold" 
                            FontSize="11"
                            Margin="0,0,0,10"/>
                    <Button x:Name="CloseBtn" Content="◢ CLOSE ◣" 
                            Style="{StaticResource CyberButton}"
                            Height="40"
                            Width="180"
                            FontWeight="Bold" 
                            FontSize="11"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
